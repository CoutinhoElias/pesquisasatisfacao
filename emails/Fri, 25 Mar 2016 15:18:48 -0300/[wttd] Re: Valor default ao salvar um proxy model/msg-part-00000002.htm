<div dir="ltr">Ah, tem um detalhe:<div>ele não faz o mesmo efeito no Admin.</div><div><b>Como eu faço para ficar nos dois: no Form e no Admin?</b></div></div><div class="gmail_extra"><br clear="all"><div><div class="gmail_signature"><div dir="ltr"><table border="0" cellpadding="0" width="180" style="font-family:&#39;Times New Roman&#39;;table-layout:fixed"><tbody><tr><td align="left" nowrap width="100"><p style="font-family:Helvetica,Arial,sans-serif;font-size:10px;line-height:12px;color:rgb(33,33,33);margin-bottom:10px"><span style="font-weight:bold;display:inline">Regis da Silva</span><br><span style="display:inline"></span><span style="display:inline">Web Developer</span><br></p><p style="font-size:0px;line-height:0;font-family:Helvetica,Arial,sans-serif"><a href="http://rg3915.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/rg3915/rg3915.github.io/master/img/paper_plane_gray.png" alt="Aboutme" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="http://grandeportal.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/grandeportal/grandeportal.github.io/master/images/matrix-icon.jpg" alt="matrix" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"></span> <a href="https://about.me/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="http://www.kevinpiersoul.com/assets/images/about-active.png" alt="Aboutme" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://www.linkedin.com/profile/public-profile-settings?trk=prof-edit-edit-public_profile" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/linkedin.png" alt="Linkedin" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://github.com/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/github.png" alt="github" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span></p></td></tr></tbody></table></div></div></div>
<br><div class="gmail_quote">2016-03-25 15:05 GMT-03:00 Régis Silva <span dir="ltr">&lt;<a href="mailto:regis.santos.100@gmail.com" target="_blank">regis.santos.100@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Resolvido.<div><br></div><div><div><font face="monospace, monospace">class EntryCreate(CreateView):</font></div><div><font face="monospace, monospace">    model = Entry</font></div><div><font face="monospace, monospace">    form_class = EntryForm</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">    def form_valid(self, form):</font></div><div><font face="monospace, monospace">        form.instance.status = &#39;n&#39;  # não iniciado</font></div><div><font face="monospace, monospace">        return super(EntryCreate, self).form_valid(form)</font></div></div><div><br></div></div><div class="gmail_extra"><span class=""><br clear="all"><div><div><div dir="ltr"><table border="0" cellpadding="0" width="180" style="font-family:&#39;Times New Roman&#39;;table-layout:fixed"><tbody><tr><td align="left" nowrap width="100"><p style="font-family:Helvetica,Arial,sans-serif;font-size:10px;line-height:12px;color:rgb(33,33,33);margin-bottom:10px"><span style="font-weight:bold;display:inline">Regis da Silva</span><br><span style="display:inline"></span><span style="display:inline">Web Developer</span><br></p><p style="font-size:0px;line-height:0;font-family:Helvetica,Arial,sans-serif"><a href="http://rg3915.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/rg3915/rg3915.github.io/master/img/paper_plane_gray.png" alt="Aboutme" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="http://grandeportal.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/grandeportal/grandeportal.github.io/master/images/matrix-icon.jpg" alt="matrix" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"></span> <a href="https://about.me/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="http://www.kevinpiersoul.com/assets/images/about-active.png" alt="Aboutme" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://www.linkedin.com/profile/public-profile-settings?trk=prof-edit-edit-public_profile" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/linkedin.png" alt="Linkedin" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://github.com/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/github.png" alt="github" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span></p></td></tr></tbody></table></div></div></div>
<br></span><div><div class="h5"><div class="gmail_quote">2016-03-25 12:05 GMT-03:00 Régis Silva <span dir="ltr">&lt;<a href="mailto:regis.santos.100@gmail.com" target="_blank">regis.santos.100@gmail.com</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><font face="monospace, monospace"># models.py</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">class Proposal(TimeStampedModel):</font></div><div><font face="monospace, monospace">    num_prop = models.PositiveIntegerField(u&#39;número&#39;, default=0)</font></div><div><font face="monospace, monospace">    status = models.CharField(max_length=4, choices=STATUS, default=&#39;elab&#39;)</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">class Entry(Proposal):</font></div><div><font face="monospace, monospace">    &#39;&#39;&#39; Entrada é todo orçamento com num_prop = 0 &#39;&#39;&#39;</font></div><div><font face="monospace, monospace">    objects = EntryManager()</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">    class Meta:</font></div><div><font face="monospace, monospace">        proxy = True</font></div><div><font face="monospace, monospace">        ordering = [&#39;priority&#39;, &#39;created&#39;]</font></div><div><font face="monospace, monospace">        verbose_name = &#39;entrada&#39;</font></div><div><font face="monospace, monospace">        verbose_name_plural = &#39;entradas&#39;</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"># managers.py</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">from django.db import models</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">class EntryManager(models.Manager):</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">    def get_queryset(self):</font></div><div><font face="monospace, monospace">        return super(EntryManager, self).get_queryset().filter(num_prop=0)</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"># forms.py</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">class EntryForm(forms.ModelForm):</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">    class Meta:</font></div><div><font face="monospace, monospace">        model = Entry</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"># views.py</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">entry_create = CreateView.as_view(model=Entry, form_class=EntryForm)</font></div><div><br></div><div><br></div><div>Pergunta: onde eu defino <font face="monospace, monospace">status = &#39;n&#39;</font>?</div><div><br></div><div>Num método <font face="monospace, monospace">save()</font>? Ou onde eu defino status = &#39;n&#39; como default somente para Entry?</div><div><div><div dir="ltr"><table border="0" cellpadding="0" width="180" style="font-family:&#39;Times New Roman&#39;;table-layout:fixed"><tbody><tr><td align="left" nowrap width="100"><p style="font-family:Helvetica,Arial,sans-serif;font-size:10px;line-height:12px;color:rgb(33,33,33);margin-bottom:10px"><span style="font-weight:bold;display:inline">Regis da Silva</span><br><span style="display:inline"></span><span style="display:inline">Web Developer</span><br></p><p style="font-size:0px;line-height:0;font-family:Helvetica,Arial,sans-serif"><a href="http://rg3915.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/rg3915/rg3915.github.io/master/img/paper_plane_gray.png" alt="Aboutme" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="http://grandeportal.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/grandeportal/grandeportal.github.io/master/images/matrix-icon.jpg" alt="matrix" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"></span> <a href="https://about.me/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="http://www.kevinpiersoul.com/assets/images/about-active.png" alt="Aboutme" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://www.linkedin.com/profile/public-profile-settings?trk=prof-edit-edit-public_profile" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/linkedin.png" alt="Linkedin" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://github.com/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/github.png" alt="github" style="margin-bottom:2px;border:none;display:inline"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span></p></td></tr></tbody></table></div></div></div>
</div>
</blockquote></div><br></div></div></div>
</blockquote></div><br></div>

<p></p>

-- <br />
Você recebeu essa mensagem porque está inscrito no grupo &quot;Welcome to the Django 2015&quot; dos Grupos do Google.<br />
Para cancelar inscrição nesse grupo e parar de receber e-mails dele, envie um e-mail para <a href="mailto:wttd-2015+unsubscribe@googlegroups.com">wttd-2015+unsubscribe@googlegroups.com</a>.<br />
Para postar nesse grupo, envie um e-mail para <a href="mailto:wttd-2015@googlegroups.com">wttd-2015@googlegroups.com</a>.<br />
Acesse esse grupo em <a href="https://groups.google.com/group/wttd-2015">https://groups.google.com/group/wttd-2015</a>.<br />
Para ver essa discussão na Web, acesse <a href="https://groups.google.com/d/msgid/wttd-2015/CA%2BDznZOmtj4kb5-bWRM9DKZ0yTYaVUWpRBLb4k-0Bm4U7aD7hA%40mail.gmail.com?utm_medium=email&utm_source=footer">https://groups.google.com/d/msgid/wttd-2015/CA%2BDznZOmtj4kb5-bWRM9DKZ0yTYaVUWpRBLb4k-0Bm4U7aD7hA%40mail.gmail.com</a>.<br />
Para mais opções, acesse <a href="https://groups.google.com/d/optout">https://groups.google.com/d/optout</a>.<br />
