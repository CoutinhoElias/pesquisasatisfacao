<div dir="ltr"><div>Pessoal, me ajudem por favor.</div><div><br></div><div>Tenho a seguinte lista de links:</div><div><br></div><div><a href="http://esporte.uol.com.br">http://esporte.uol.com.br</a></div><div><a href="http://esporte.uol.com.br/futebol/campeonatos/libertadores/ultimas-noticias/2016/03/07/pressao-da-diretoria-raiva-da-torcida-e-falhas-assustam-sp-antes-do-river.htm">http://esporte.uol.com.br/futebol/campeonatos/libertadores/ultimas-noticias/2016/03/07/pressao-da-diretoria-raiva-da-torcida-e-falhas-assustam-sp-antes-do-river.htm</a></div><div><a href="http://esporte.uol.com.br/surfe/ultimas-noticias/2016/03/07/brasileiro-estreante-e-modelo-havaiana-serao-unico-casal-da-elite-do-surfe.htm">http://esporte.uol.com.br/surfe/ultimas-noticias/2016/03/07/brasileiro-estreante-e-modelo-havaiana-serao-unico-casal-da-elite-do-surfe.htm</a></div><div><a href="http://economia.uol.com.br">http://economia.uol.com.br</a></div><div><a href="http://economia.uol.com.br/noticias/redacao/2016/03/07/analistas-veem-queda-maior-do-pib-em-2016-de-35-e-inflacao-de-759.htm">http://economia.uol.com.br/noticias/redacao/2016/03/07/analistas-veem-queda-maior-do-pib-em-2016-de-35-e-inflacao-de-759.htm</a></div><div><a href="http://economia.uol.com.br/noticias/efe/2016/03/07/euro-desce-para-us-10982-em-frankfurt.htm">http://economia.uol.com.br/noticias/efe/2016/03/07/euro-desce-para-us-10982-em-frankfurt.htm</a></div><div><br></div><div>Eu preciso montar uma árvore com galhos e folhas da seguinte forma:</div><div><br></div><div>esporte - galhos: 2, folhas: 2</div><div>    futebol - galhos: 1, folhas: 1</div><div>    surfe - galhos: 1, folhas: 1</div><div>economia - galhos: 2, folhas: 2</div><div>    noticias - galhos: 2, folhas: 2</div><div><br></div><div>Ou seja, montar uma árvore de estrutura de um site.</div><div><br></div><div>Estou apanhando e tentei o código a seguir: mas me falaram pra usar recursividade.</div><div><br></div><div>Me ajudem por favor, pois estou apanhando.</div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">import csv</font></div><div><font face="monospace, monospace">from itertools import groupby</font></div><div><font face="monospace, monospace">try:</font></div><div><font face="monospace, monospace">    # Python 3</font></div><div><font face="monospace, monospace">    from urllib.parse import urlparse, parse_qs</font></div><div><font face="monospace, monospace">except ImportError:</font></div><div><font face="monospace, monospace">    # Python 2</font></div><div><font face="monospace, monospace">    from urlparse import urlparse, parse_qs</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">filename = &#39;2.csv&#39;</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">urls = []</font></div><div><font face="monospace, monospace">with open(filename) as csvfile:</font></div><div><font face="monospace, monospace">    spamreader = csv.reader(csvfile)</font></div><div><font face="monospace, monospace">    for row in spamreader:</font></div><div><font face="monospace, monospace">        urls.append(urlparse(row[0]))</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">a = []</font></div><div><font face="monospace, monospace">for url in urls:</font></div><div><font face="monospace, monospace">    item = url.path.strip(&#39;/&#39;).split(&#39;/&#39;)</font></div><div><font face="monospace, monospace">    a.append(item[0])</font></div><div><font face="monospace, monospace">print(&#39;nivel 1&#39;)</font></div><div><font face="monospace, monospace">print(a)</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"># Remove duplicate</font></div><div><font face="monospace, monospace">newlist = list(set(a))</font></div><div><font face="monospace, monospace">print(&#39;Nova lista&#39;)</font></div><div><font face="monospace, monospace">print(newlist)</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"># print(a.count(&#39;cni&#39;))</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace"># Dicionário com a quantidade de cada item</font></div><div><font face="monospace, monospace">dic = {}</font></div><div><font face="monospace, monospace">for i in newlist:</font></div><div><font face="monospace, monospace">    dic[i] = a.count(i)</font></div><div><font face="monospace, monospace">    print(i, a.count(i))</font></div><div><font face="monospace, monospace"><br></font></div><div><font face="monospace, monospace">print(&#39;Dicionário&#39;)</font></div><div><font face="monospace, monospace">print(dic)</font></div><div><br></div><div>Faltar terminar.</div><div><div class="gmail_signature"><div dir="ltr"><table border="0" cellpadding="0" width="180" style="font-family:&#39;Times New Roman&#39;;table-layout:fixed"><tbody><tr><td align="left" nowrap width="100"><p style="font-family:Helvetica,Arial,sans-serif;font-size:10px;line-height:12px;color:rgb(33,33,33);margin-bottom:10px"><span style="font-weight:bold;display:inline">Regis da Silva</span><br><span style="display:inline"></span><span style="display:inline">Web Developer</span><br></p><p style="font-size:0px;line-height:0;font-family:Helvetica,Arial,sans-serif"><a href="http://rg3915.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/rg3915/rg3915.github.io/master/img/paper_plane_gray.png" alt="Aboutme" style="margin-bottom: 2px; border: none; display: inline;"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="http://grandeportal.github.io/" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://raw.githubusercontent.com/grandeportal/grandeportal.github.io/master/images/matrix-icon.jpg" alt="matrix" style="margin-bottom: 2px; border: none; display: inline;"></a><span style="white-space:nowrap"></span> <a href="https://about.me/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="http://www.kevinpiersoul.com/assets/images/about-active.png" alt="Aboutme" style="margin-bottom: 2px; border: none; display: inline;"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://www.linkedin.com/profile/public-profile-settings?trk=prof-edit-edit-public_profile" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/linkedin.png" alt="Linkedin" style="margin-bottom: 2px; border: none; display: inline;"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span> <a href="https://github.com/rg3915" style="display:inline;text-decoration:none" target="_blank"><img width="16" height="16" src="https://s3.amazonaws.com/htmlsig-assets/round/github.png" alt="github" style="margin-bottom: 2px; border: none; display: inline;"></a><span style="white-space:nowrap"><img src="https://s3.amazonaws.com/htmlsig-assets/spacer.gif" width="2"></span></p></td></tr></tbody></table></div></div></div>
</div>

<p></p>

-- <br />
Você recebeu essa mensagem porque está inscrito no grupo &quot;Welcome to the Django 2015&quot; dos Grupos do Google.<br />
Para cancelar inscrição nesse grupo e parar de receber e-mails dele, envie um e-mail para <a href="mailto:wttd-2015+unsubscribe@googlegroups.com">wttd-2015+unsubscribe@googlegroups.com</a>.<br />
Para postar nesse grupo, envie um e-mail para <a href="mailto:wttd-2015@googlegroups.com">wttd-2015@googlegroups.com</a>.<br />
Acesse esse grupo em <a href="https://groups.google.com/group/wttd-2015">https://groups.google.com/group/wttd-2015</a>.<br />
Para ver essa discussão na Web, acesse <a href="https://groups.google.com/d/msgid/wttd-2015/CA%2BDznZNW4D_xOym5T1jG89ZPvW9yG%3DSkZY2CdDzg%3DqRN_kxevg%40mail.gmail.com?utm_medium=email&utm_source=footer">https://groups.google.com/d/msgid/wttd-2015/CA%2BDznZNW4D_xOym5T1jG89ZPvW9yG%3DSkZY2CdDzg%3DqRN_kxevg%40mail.gmail.com</a>.<br />
Para mais opções, acesse <a href="https://groups.google.com/d/optout">https://groups.google.com/d/optout</a>.<br />
