<div dir="ltr">Me desculpa, olha o client API Service<div><br></div><div><br></div></div><div class="gmail_extra"><br clear="all"><div><div class="gmail_signature"><div dir="ltr">John Diego<br>Email: <a href="mailto:joediego@gmail.com" target="_blank">joediego@gmail.com</a><br>MSN: <a href="mailto:joediego@gmail.com" target="_blank">joediego@gmail.com</a><br>Tel: 55 16 3289 -1770<br>Cel.: 55 16 9129 -7626<br></div></div></div>
<br><div class="gmail_quote">Em 23 de janeiro de 2016 13:10, Roger Pereira Boff <span dir="ltr">&lt;<a href="mailto:rogerboff@gmail.com" target="_blank">rogerboff@gmail.com</a>&gt;</span> escreveu:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr">Acho que tu esqueceu de postar <span style="color:rgb(248,248,242);font-family:&#39;DejaVu Sans Mono&#39;;background-color:rgb(60,60,87)">ClienteAPIservice</span>  e é onde deve estar o problema.<br></div><div class="gmail_extra"><br><div class="gmail_quote"><div><div class="h5">Em 23 de janeiro de 2016 02:42, John Diego <span dir="ltr">&lt;<a href="mailto:joediego@gmail.com" target="_blank">joediego@gmail.com</a>&gt;</span> escreveu:<br></div></div><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div><div class="h5"><div dir="ltr">Bom dia <div>Alguem sabe porque o angularjs está gerando 4 requisições?</div><div>Isso é normal?<br><br></div><div><br></div><div><br></div><div>esta aqui o codigo ajax<br><br><br><div>&quot;use strict&quot;;</div><div>(function() {</div><div><br></div><div>  angular.module(&#39;appajax&#39;, [&#39;ngCookies&#39;]);</div><div><br></div><div>  angular.module(&#39;appajax&#39;).config(</div><div>      function($httpProvider){</div><div>          $httpProvider.defaults.headers.common[&#39;X-Requested-With&#39;] = &#39;XMLHttpRequest&#39;;</div><div>          $httpProvider.defaults.headers.post[&#39;Content-Type&#39;] = &#39;application/x-www-form-urlencoded;charset=utf-8&#39;;</div><div>      }</div><div>  );</div><div><br></div><div>  angular.module(&#39;appajax&#39;).factory(&#39;AppAjax&#39;, function($http, $cookies, $log){</div><div><br></div><div>      var global_error_handler;</div><div><br></div><div>      var AppAjax = {</div><div>          get: get,</div><div>          post: post,</div><div>          set_error_handler: set_error_handler,</div><div>      };</div><div><br></div><div>      function get(url, params){</div><div>          if(!params){</div><div>              params = {};</div><div>          }</div><div>          var promise = $http({</div><div>              method: &#39;GET&#39;,</div><div>              url:   APP.URLDEFAULT + url,</div><div>              params: params</div><div>          });</div><div>          if(global_error_handler){</div><div>              promise.catch(global_error_handler);</div><div>          }</div><div>          return promise;</div><div>      }</div><div><br></div><div>      function post(url, params){</div><div>          if(!params){</div><div>              params = {};</div><div>          }</div><div>          $http.defaults.headers.post[&#39;X-CSRFToken&#39;] = $cookies.get(&#39;csrftoken&#39;);</div><div>          var promise = $http({</div><div>              method: &#39;POST&#39;,</div><div>              url: APP.URLDEFAULT + url,</div><div>              data: $.param(params)</div><div>          });</div><div>          if(global_error_handler){</div><div>              promise.catch(global_error_handler);</div><div>          }</div><div>          return promise;</div><div>      }</div><div>      function set_error_handler(args){</div><div>          global_error_handler = args;</div><div>      }</div><div>      return AppAjax;</div><div>  });</div><div>}());</div></div><div><br></div><div><br></div><div>Meu cliente model</div><div><br></div><div><br></div><div><div>&quot;use strict&quot;;</div><div>(function() {</div><div>    angular.module(&#39;cliente&#39;).factory(&#39;ClienteModel&#39;, function(ClienteAPIservice){</div><div>      var clientesModel = {</div><div>    <span style="white-space:pre-wrap">	</span>  <span style="white-space:pre-wrap">	</span>realizando_busca: false,</div><div>    <span style="white-space:pre-wrap">	</span>  <span style="white-space:pre-wrap">	</span>clientes_encontrados: [],</div><div>    <span style="white-space:pre-wrap">	</span>  <span style="white-space:pre-wrap">	</span>cliente: {},</div><div>      };</div><div><span style="white-space:pre-wrap">	</span>    angular.extend(clientesModel, {</div><div>        urlrestPadrao:buscaClientes,</div><div>        urlGetCliente:getCliente,</div><div><span style="white-space:pre-wrap">	</span>    });</div><div>     return clientesModel;</div><div><br></div><div>     function buscaClientes() {</div><div>         clientesModel.realizando_busca = true;</div><div>         ClienteAPIservice.urlpadrao().then(function(response) {</div><div>           clientesModel.clientes_encontrados  = response.data;</div><div>           clientesModel.realizando_busca = false;</div><div>         });</div><div>     }</div><div>     function getCliente(id) {</div><div>        clientesModel.realizando_busca = true;</div><div>        ClienteAPIservice.getCliente(id).then(function(response) {</div><div>        cliente = response.data;</div><div>        clientesModel.realizando_busca = false;</div><div>      });</div><div>     }</div><div>  });</div><div>}());</div></div><div><br></div><div>se que ór causa das funções autoexecutavies??<br>quando eu mandar  um post , ele vai gerar posts duplicado?</div><div><br></div><div>Att.</div><span><font color="#888888"><div><br></div><div><br></div><div><br clear="all"><div><div><div dir="ltr">John Diego<br>Email: <a href="mailto:joediego@gmail.com" target="_blank">joediego@gmail.com</a><br>MSN: <a href="mailto:joediego@gmail.com" target="_blank">joediego@gmail.com</a><br>Tel: 55 16 3289 -1770<br>Cel.: 55 16 9129 -7626<br></div></div></div>
</div></font></span></div></div></div><span class="HOEnZb"><font color="#888888"><span><font color="#888888">

<p></p>

-- <br>
Você recebeu essa mensagem porque está inscrito no grupo &quot;ng-masters&quot; dos Grupos do Google.<br>
Para cancelar inscrição nesse grupo e parar de receber e-mails dele, envie um e-mail para <a href="mailto:ngmasters+unsubscribe@googlegroups.com" target="_blank">ngmasters+unsubscribe@googlegroups.com</a>.<br>
Para postar nesse grupo, envie um e-mail para <a href="mailto:ngmasters@googlegroups.com" target="_blank">ngmasters@googlegroups.com</a>.<br>
Para ver essa discussão na Web, acesse <a href="https://groups.google.com/d/msgid/ngmasters/CAAxsovTNWXGujPJV8o4OjG5_UnAVS1Zphr-bcL6bFdpn7aWp0A%40mail.gmail.com?utm_medium=email&amp;utm_source=footer" target="_blank">https://groups.google.com/d/msgid/ngmasters/CAAxsovTNWXGujPJV8o4OjG5_UnAVS1Zphr-bcL6bFdpn7aWp0A%40mail.gmail.com</a>.<br>
Para mais opções, acesse <a href="https://groups.google.com/d/optout" target="_blank">https://groups.google.com/d/optout</a>.<br>
</font></span></font></span></blockquote></div><span class="HOEnZb"><font color="#888888"><br><br clear="all"><div><br></div>-- <br><div>==============================================================================<br>Se você pretende repassar este e-mail, por favor, APAGUE todos os endereçosque aparecem nele antes de<br>enviar. Outra dica de segurança é encaminhar aos seus destinatários como CÓPIA OCULTA (Cco ou Bcc).<br>Agindo assim, você estará protegendo seus amigos e a você mesmo(a) da propagação de SPAMS e Vírus.<br>==============================================================================</div>
</font></span></div>
</blockquote></div><br></div>

<p></p>

-- <br />
Você recebeu essa mensagem porque está inscrito no grupo &quot;ng-masters&quot; dos Grupos do Google.<br />
Para cancelar inscrição nesse grupo e parar de receber e-mails dele, envie um e-mail para <a href="mailto:ngmasters+unsubscribe@googlegroups.com">ngmasters+unsubscribe@googlegroups.com</a>.<br />
Para postar nesse grupo, envie um e-mail para <a href="mailto:ngmasters@googlegroups.com">ngmasters@googlegroups.com</a>.<br />
Para ver essa discussão na Web, acesse <a href="https://groups.google.com/d/msgid/ngmasters/CAAxsovRCnxirn-QMh7ziMShiZw6Dv-zC3v-LnA6pMrMyuPgH_g%40mail.gmail.com?utm_medium=email&utm_source=footer">https://groups.google.com/d/msgid/ngmasters/CAAxsovRCnxirn-QMh7ziMShiZw6Dv-zC3v-LnA6pMrMyuPgH_g%40mail.gmail.com</a>.<br />
Para mais opções, acesse <a href="https://groups.google.com/d/optout">https://groups.google.com/d/optout</a>.<br />
